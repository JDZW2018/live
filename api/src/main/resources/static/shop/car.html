<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,initial-scale=1.0, user-scalable=no" />
    <title>优惠专区</title>
    <base target="_self" href="http://192.168.1.108:90/ws_project/jiaotouxueyuan/">
    <link href="css/reset.css" rel="stylesheet" type="text/css"/>
    <link href="css/car.css" rel="stylesheet" type="text/css"/>
    <link href="css/swiper-3.3.1.min.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="js/conform.js"></script>
    <script src="js/jquery.min.js" type="text/javascript" ></script>
    <script src="js/swiper-3.3.1.min.js" type="text/javascript"></script>
    <script src="js/vue.min.js"></script>
</head>
<body>
    <div class="body">
        <div class="con1">
            <span style="width: 19%;display: inline-block;"><</span><span style="width: 60%;display: inline-block;margin: 0 auto;text-align: center;">购物车</span><span style="width: 20%;display:inline-block;text-align: center;">编辑</span>
        </div>
        <div style="width:100%;height: 0.9rem;"></div>
        <div class="con2">
            <div class="line" v-for="(good,index) in goods">
                <img class="image1" v-bind:src="good.checked?'image/yes.png':'image/noYes.png'" @click="radioYesF(good)"/>
                <div class="image2"><div class="goodPic"><img v-bind:src="good.img"></div> <div class="setnum"><span class="inputnumber1" @click="inputnumber1(index)">-</span><input v-on:blur="inputnumberBlur()" type="number" v-model.number="good.number" class="inputnumber"/><span class="inputnumber2" @click="inputnumber2(index)">+</span></div> </div>
                <div class="goodCon">
                    <p class="name" v-html="good.name">男士牛仔男士牛仔男士牛仔男士牛仔男士牛仔男士牛仔男士牛仔</p>
                    <span class="RMB">￥<span v-html="good.price">198.00</span></span>
                    <span class="RMB">小计：￥<span v-html="(good.price)*(good.name)">198.00</span></span>
                </div>
            </div>
        </div>
        <div class="jiesuan">
            <div class="allmoney">
                <img class="img" :src="allChecked?'image/yes.png':'image/noYes.png'" @click="allCheckedF()">
                <label class="label">全选</label>
                <label class="label">￥1987.10</label>
            </div>
            <div class="allpay">去结算</div>
        </div>
        <div class="addCollect">
            <div class="all">
                <img class="img" :src="allChecked?'image/yes.png':'image/noYes.png'" @click="allCheckedF()">
                <label class="label">全选</label>
            </div>
            <div class="allAdd"><span class="s1">移入收藏</span><span class="s2">删除</span></div>
        </div>
        <div style="height: 1rem;width: 100%"></div>
        <div class="bottom">
            <a href="shop/shop.html"><div class="b">
                <img src="image/shophome1.png">
                <span>商城</span>
            </div></a>
            <a href="shop/homeClassify.html"><div class="b">
                <img src="image/type1.png">
                <span>分类</span>
            </div></a>
            <a href="shop/sale.html"><div class="b">
                <img src="image/sale1.png">
                <span>特惠</span>
            </div></a>
            <a href="shop/car.html"><div class="b">
                <img src="image/shopping.png">
                <span style="color:#ffa42f">购物车</span>
            </div></a>
        </div>
    </div>
</body>
<script>
    var goods=[
        {"img":"image/kechenging1.png","name":"qqqqqqqqq","price":"19.00","number":2,"allNumber":10},
        {"img":"image/kechenging2.png","name":"wwwwwwwww","price":"20.00","number":3,"allNumber":15},
        {"img":"image/kechenging3.png","name":"eeeeeeeee","price":"21.00","number":4,"allNumber":20},
    ]
var v1 = new Vue({
    el:".body",
    data:{
        goods:goods,
        inputnumber:2,
        inputnumberAll:10,
        allChecked:false
    },
    methods:{
        inputnumber1:function () {
            this.inputnumber--;
            if(this.inputnumber<=0) this.inputnumber=0;
            if(this.inputnumber>=this.inputnumberAll) this.inputnumber=this.inputnumberAll;
        },
        inputnumber2:function () {
            this.inputnumber++;
            if(this.inputnumber<=0) this.inputnumber=0;
            if(this.inputnumber>=this.inputnumberAll) this.inputnumber=this.inputnumberAll;
        },
        inputnumberBlur:function () {
            this.inputnumber1();
            this.inputnumber2();
        },
        radioYesF:function (data) {
            this.allChecked=true;
            if(typeof data.checked==="undefined"){
                this.$set(data,"checked",true);
                    this.allChecked=false;
            }else{
                data.checked=!data.checked;
                if(data.checked===false){
                    this.allChecked=false;
                }
            }
        },
        allCheckedF:function () {
            this.allChecked=!this.allChecked;
            var _this=this;
            this.goods.forEach(function (item,index) {
                if(typeof item.checked==="undefined"){
                    _this.$set(item,"checked",_this.allChecked);
                }else{
                    item.checked=_this.allChecked;
                }
            })
        }
    }
})
</script>
</html>